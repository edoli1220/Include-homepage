{"revisions":{"1337426580647":{"ts":1337426580647,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"var mongoose\r\n  ,Schema;\r\n\r\nmongoose = require('mongoose');\r\nmongoose.connect('mongodb://localhost/include/test');\r\nSchema = mongoose.Schema;\r\n\r\nexports.DocumentModel = function(boardName) {\r\n  var boardSchema\r\n    , boardModel;\r\n  boardSchema = new Schema({\r\n      id      : {type: Number, unique: true}\r\n    , title   : {type: String, index: true}\r\n    , content : {type: String, index: true}\r\n    , writer  : {type: String, index: true}\r\n    , date    : {type: Date  , index: true, default: Date.now()}\r\n    , files   : [Schema.Types.Mixed]\r\n    , comments: [new Schema({\r\n      name     : String\r\n      , content: String\r\n      , date   : {type: Date, default: Date.now()}\r\n    })]\r\n  });\r\n  boardModel = mongoose.model('Document-'+boardName, boardSchema);\r\n  return boardModel;\r\n};\r\n\r\nexports.AvailableBoard = function() {\r\n  var schema = new Schema ({\r\n      boardName: {type: String, unique: true}\r\n    , auth: Boolean\r\n  });\r\n  return mongoose.model('Available-Boards', schema);\r\n}\r\n\r\nexports.UserModel = function() {\r\n  var userSchema\r\n    , userModel;\r\n  userSchema = new Schema({\r\n      userID  : {type: String, unique: true}\r\n    , nickname: {type: String, unique: true}\r\n    , password: String\r\n    , email   : String\r\n  });\r\n  userModel = mongoose.model('User', userSchema);\r\n  return userModel;\r\n};"]],"start1":0,"start2":0,"length1":0,"length2":1313}]],"length":1313},"1337426617282":{"contributors":[],"silentsave":false,"ts":1337426617282,"patch":[[{"diffs":[[0,"ngoose\r\n"],[1,"  ,gridStore\r\n"],[0,"  ,Schem"]],"start1":6,"start2":6,"length1":16,"length2":30}]],"length":1327,"saved":false},"1337426627219":{"contributors":[],"silentsave":false,"ts":1337426627219,"patch":[[{"diffs":[[0,"ose');\r\n"],[1,"gridStore = require('mongodb').GridStore;\r\n"],[0,"mongoose"]],"start1":67,"start2":67,"length1":16,"length2":59}]],"length":1370,"saved":false},"1337426637055":{"contributors":[],"silentsave":false,"ts":1337426637055,"patch":[[{"diffs":[[0,"ose\r\n  ,"],[-1,"g"],[1,"G"],[0,"ridStore"]],"start1":9,"start2":9,"length1":17,"length2":17},{"diffs":[[0,"ose');\r\n"],[-1,"g"],[1,"G"],[0,"ridStore"]],"start1":67,"start2":67,"length1":17,"length2":17}]],"length":1370,"saved":false},"1337426652047":{"contributors":[],"silentsave":false,"ts":1337426652047,"patch":[[{"diffs":[[0,"de/test'"],[1,", function(err) {\r\n  \r\n}"],[0,");\r\nSche"]],"start1":161,"start2":161,"length1":16,"length2":40}]],"length":1394,"saved":false},"1337426652739":{"contributors":[],"silentsave":false,"ts":1337426652739,"patch":[[{"diffs":[[0,"r) {\r\n  "],[1,"  "],[0,"\r\n});\r\nS"]],"start1":182,"start2":182,"length1":16,"length2":18}]],"length":1396,"saved":false},"1337426670334":{"contributors":[],"silentsave":false,"ts":1337426670334,"patch":[[{"diffs":[[0,"r) {\r\n  "],[1,"new GridStore"],[0,"  \r\n});\r"]],"start1":182,"start2":182,"length1":16,"length2":29}]],"length":1409,"saved":false},"1337426690136":{"contributors":[],"silentsave":false,"ts":1337426690136,"patch":[[{"diffs":[[0,"ridStore"],[-1,"  "],[1,"(mongoose.connection.db, 'some-pic.jpg', 'w').open(function(err, gs) {\r\n    gs.write(image_buffer, function(err, gs) {\r\n      gs.close(function(err) {\r\n        // win?\r\n      });\r\n    });\r\n  });"],[0,"\r\n});\r\nS"]],"start1":195,"start2":195,"length1":18,"length2":210}]],"length":1601,"saved":false},"1337426750690":{"contributors":[],"silentsave":false,"ts":1337426750690,"patch":[[{"diffs":[[0," {\r\n"],[-1,"  new GridStore(mongoose.connection.db, 'some-pic.jpg', 'w').open(function(err, gs) {\r\n    gs.write(image_buffer, function(err, gs) {\r\n      gs.close(function(err) {\r\n        // win?\r\n      });\r\n    });\r\n  });\r\n"],[0,"});\r"]],"start1":184,"start2":184,"length1":219,"length2":8}]],"length":1390,"saved":false},"1337426758941":{"contributors":[],"silentsave":false,"ts":1337426758941,"patch":[[{"diffs":[[0,"{\r\n});\r\n"],[1,"\r\n\r\n"],[0,"Schema ="]],"start1":185,"start2":185,"length1":16,"length2":20},{"diffs":[[0,"n userModel;\r\n};"],[1,"\r\n\r\nfunction \r\n  new GridStore(mongoose.connection.db, 'some-pic.jpg', 'w').open(function(err, gs) {\r\n    gs.write(image_buffer, function(err, gs) {\r\n      gs.close(function(err) {\r\n        // win?\r\n      });\r\n    });\r\n  });"]],"start1":1378,"start2":1378,"length1":16,"length2":240}]],"length":1618,"saved":false},"1337426776829":{"contributors":[],"silentsave":false,"ts":1337426776829,"patch":[[{"diffs":[[0,"unction "],[1,"saveGridStore() {"],[0,"\r\n  new "]],"start1":1399,"start2":1399,"length1":16,"length2":33},{"diffs":[[0,"  });\r\n  });"],[1,"\r\n}"]],"start1":1623,"start2":1623,"length1":12,"length2":15}]],"length":1638,"saved":false},"1337426784878":{"contributors":[],"silentsave":false,"ts":1337426784878,"patch":[[{"diffs":[[0,"idStore("],[1,"fileName, "],[0,") {\r\n  n"]],"start1":1413,"start2":1413,"length1":16,"length2":26}]],"length":1648,"saved":false},"1337426787806":{"contributors":[],"silentsave":false,"ts":1337426787806,"patch":[[{"diffs":[[0,"leName, "],[1,"buffer"],[0,") {\r\n  n"]],"start1":1423,"start2":1423,"length1":16,"length2":22}]],"length":1654,"saved":false},"1337426792153":{"contributors":[],"silentsave":false,"ts":1337426792153,"patch":[[{"diffs":[[0,"db, "],[-1,"'some-pic.jpg'"],[1,"fileName"],[0,", 'w"]],"start1":1478,"start2":1478,"length1":22,"length2":16}]],"length":1648,"saved":false},"1337426796230":{"contributors":[],"silentsave":false,"ts":1337426796230,"patch":[[{"diffs":[[0,"ite("],[-1,"image_"],[0,"buff"]],"start1":1532,"start2":1532,"length1":14,"length2":8}]],"length":1642,"saved":false},"1337426834524":{"contributors":[],"silentsave":false,"ts":1337426834524,"patch":[[{"diffs":[[0,"\n\r\nf"],[-1,"unction "],[1,"exports."],[0,"save"]],"start1":1395,"start2":1395,"length1":16,"length2":16},{"diffs":[[0,"ridStore"],[1," = function"],[0,"(fileNam"]],"start1":1412,"start2":1412,"length1":16,"length2":27}]],"length":1653,"saved":false},"1337426840671":{"contributors":[],"silentsave":false,"ts":1337426840671,"patch":[[{"diffs":[[0,"\r\n};\r\n\r\n"],[-1,"f"],[0,"exports."]],"start1":1390,"start2":1390,"length1":17,"length2":16}]],"length":1652,"saved":false},"1337427397949":{"contributors":[],"silentsave":false,"ts":1337427397949,"patch":[[{"diffs":[[0,"    "],[-1,"// win?"],[1,"console.log('save success');"],[0,"\r\n  "]],"start1":1611,"start2":1611,"length1":15,"length2":36}]],"length":1673,"saved":false},"1337427407035":{"contributors":[],"silentsave":false,"ts":1337427407035,"patch":[[{"diffs":[[0,"err, gs) {\r\n"],[1,"    console.log('save start');\r\n"],[0,"    gs.write"]],"start1":1521,"start2":1521,"length1":24,"length2":56}]],"length":1705,"saved":false},"1337427493586":{"contributors":[],"silentsave":false,"ts":1337427493586,"patch":[[{"diffs":[[0,"fer) {\r\n"],[1,"  console.log('save try');\r\n"],[0,"  new Gr"]],"start1":1444,"start2":1444,"length1":16,"length2":44}]],"length":1733,"saved":false},"1337427588990":{"contributors":[],"silentsave":false,"ts":1337427588990,"patch":[[{"diffs":[[0," {\r\n"],[-1,"  console.log('save try');\r\n"],[0,"  ne"]],"start1":1448,"start2":1448,"length1":36,"length2":8},{"diffs":[[0," {\r\n"],[-1,"    console.log('save start');\r\n"],[0,"    "]],"start1":1529,"start2":1529,"length1":40,"length2":8},{"diffs":[[0," {\r\n"],[-1,"        console.log('save success');\r\n"],[0,"    "]],"start1":1603,"start2":1603,"length1":46,"length2":8}]],"length":1635,"saved":false},"1337427614160":{"contributors":[],"silentsave":false,"ts":1337427614160,"patch":[[{"diffs":[[0,", buffer"],[1,", callback"],[0,") {\r\n  n"]],"start1":1439,"start2":1439,"length1":16,"length2":26}]],"length":1645,"saved":false},"1337428144926":{"contributors":[],"silentsave":false,"ts":1337428144926,"patch":[[{"diffs":[[0,");\r\n  });\r\n}"],[1,"\r\n\r\nexports.readGridStore = function(fileName, buffer, callback) {\r\n  new GridStore(mongoose.connection.db, fileName, 'w').open(function(err, gs) {\r\n    gs.write(buffer, function(err, gs) {\r\n      gs.close(function(err) {\r\n      });\r\n    });\r\n  });\r\n}"]],"start1":1633,"start2":1633,"length1":12,"length2":263}]],"length":1896,"saved":false},"1337428152864":{"contributors":[],"silentsave":false,"ts":1337428152864,"patch":[[{"diffs":[[0,"on(fileName,"],[-1," buffer,"],[0," callback) {"]],"start1":1428,"start2":1428,"length1":32,"length2":24},{"diffs":[[0,"eName, b"],[-1,"uffer, "],[0,"callback"]],"start1":1677,"start2":1677,"length1":23,"length2":16}]],"length":1881,"saved":false},"1337428166954":{"contributors":[],"silentsave":false,"ts":1337428166954,"patch":[[{"diffs":[[0,"ose(function(err"],[-1,") {"],[1,", result) {\r\n        if (callback) {\r\n          \r\n        }"],[0,"\r\n      });\r\n   "]],"start1":1588,"start2":1588,"length1":35,"length2":91}]],"length":1937,"saved":false},"1337428171166":{"contributors":[],"silentsave":false,"ts":1337428171166,"patch":[[{"diffs":[[0,"        "],[1,"callback(result);"],[0,"\r\n      "]],"start1":1644,"start2":1644,"length1":16,"length2":33}]],"length":1954,"saved":false},"1337428187149":{"contributors":[],"silentsave":false,"ts":1337428187149,"patch":[[{"diffs":[[0,", gs) {\r\n    gs."],[-1,"write"],[1,"read"],[0,"(buffer, functio"]],"start1":1843,"start2":1843,"length1":37,"length2":36}]],"length":1953,"saved":false},"1337428196146":{"contributors":[],"silentsave":false,"ts":1337428196146,"patch":[[{"diffs":[[0,"gs.read("],[-1,"buffer, "],[0,"function"]],"start1":1856,"start2":1856,"length1":24,"length2":16}]],"length":1945,"saved":false},"1337428270485":{"contributors":[],"silentsave":false,"ts":1337428270485,"patch":[[{"diffs":[[0,"leName, "],[-1,"b"],[0,"callback"]],"start1":1749,"start2":1749,"length1":17,"length2":16}]],"length":1944,"saved":false},"1337428289549":{"contributors":[],"silentsave":false,"ts":1337428289549,"patch":[[{"diffs":[[0,"ion(err) {\r\n"],[1,"        \r\n        if (callback) {\r\n          callback(result);\r\n        }\r\n"],[0,"      });\r\n "]],"start1":1904,"start2":1904,"length1":24,"length2":99}]],"length":2019,"saved":false},"1337428292610":{"contributors":[],"silentsave":false,"ts":1337428292610,"patch":[[{"diffs":[[0," {\r\n"],[-1,"        \r\n"],[0,"    "]],"start1":1912,"start2":1912,"length1":18,"length2":8}]],"length":2009,"saved":false},"1337428298675":{"contributors":[],"silentsave":false,"ts":1337428298675,"patch":[[{"diffs":[[0," callback(result"],[1,", "],[0,");\r\n        }\r\n "]],"start1":1950,"start2":1950,"length1":32,"length2":34}]],"length":2011,"saved":false},"1337428344087":{"contributors":[],"silentsave":false,"ts":1337428344087,"patch":[[{"diffs":[[0,"d(function(err, "],[-1,"gs"],[1,"data"],[0,") {\r\n      gs.cl"]],"start1":1861,"start2":1861,"length1":34,"length2":36}]],"length":2013,"saved":false},"1337428377029":{"contributors":[],"silentsave":false,"ts":1337428377029,"patch":[[{"diffs":[[0,"r, data) {\r\n"],[1,"      buffer = new Buffer(file);\r\n"],[0,"      gs.clo"]],"start1":1874,"start2":1874,"length1":24,"length2":58}]],"length":2047,"saved":false},"1337428387533":{"contributors":[],"silentsave":false,"ts":1337428387533,"patch":[[{"diffs":[[0," Buffer("],[-1,"file"],[1,"data"],[0,");\r\n    "]],"start1":1904,"start2":1904,"length1":20,"length2":20}]],"length":2047,"saved":false},"1337428399541":{"contributors":[],"silentsave":false,"ts":1337428399541,"patch":[[{"diffs":[[0,"result, "],[1,"buffer"],[0,");\r\n    "]],"start1":1996,"start2":1996,"length1":16,"length2":22}]],"length":2053,"saved":false},"1337428403682":{"contributors":[],"silentsave":false,"ts":1337428403682,"patch":[[{"diffs":[[0,"\r\n      "],[1,"var "],[0,"buffer ="]],"start1":1884,"start2":1884,"length1":16,"length2":20}]],"length":2057,"saved":false},"1337428407926":{"contributors":[],"silentsave":false,"ts":1337428407926,"patch":[[{"diffs":[[0,"function(err"],[1,", result"],[0,") {\r\n       "]],"start1":1939,"start2":1939,"length1":24,"length2":32}]],"length":2065,"saved":false},"1337428456370":{"contributors":[],"silentsave":false,"ts":1337428456370,"patch":[[{"diffs":[[0,");\r\n  });\r\n}\r\n\r\n"],[1,"exports.deleteGridStore = function(fileName, callback) {\r\n  \r\n}\r\n\r\n"],[0,"exports.readGrid"]],"start1":1698,"start2":1698,"length1":32,"length2":99}]],"length":2132,"saved":false},"1337428461942":{"contributors":[],"silentsave":false,"ts":1337428461942,"patch":[[{"diffs":[[0,");\r\n  });\r\n}"],[1,";"],[0,"\r\n\r\nexports."]],"start1":1698,"start2":1698,"length1":24,"length2":25},{"diffs":[[0,"{\r\n  \r\n}"],[1,";"],[0,"\r\n\r\nexpo"]],"start1":1770,"start2":1770,"length1":16,"length2":17}]],"length":2134,"saved":false},"1337428473360":{"contributors":[],"silentsave":false,"ts":1337428473360,"patch":[[{"diffs":[[0,"k) {\r\n  "],[1,"new GridStore(mongoose.connection.db, fileName, 'w').open(function(err, gs) {\r\n    gs.write(buffer, function(err, gs) {\r\n      gs.close(function(err, result) {\r\n        if (callback) {\r\n          callback(result);\r\n        }\r\n      });\r\n    });\r\n  });"],[0,"\r\n};\r\n\r\n"]],"start1":1767,"start2":1767,"length1":16,"length2":267}]],"length":2385,"saved":false},"1337428484631":{"contributors":[],"silentsave":false,"ts":1337428484631,"patch":[[{"diffs":[[0,"\r\n  "],[-1,"new GridStore(mongoose.connection.db, fileName, 'w').open(function(err, gs) {\r\n    gs.read(function(err, data) {\r\n      var buffer = new Buffer(data);\r\n      gs.close(function(err, result) {\r\n        if (callback) {\r\n          callback(result, buffer);\r\n        }\r\n      });\r\n    });\r\n  });"],[1,"mongodb.GridStore.unlink(db, name, callback)"],[0,"\r\n}"]],"start1":2088,"start2":2088,"length1":297,"length2":51}]],"length":2139,"saved":false},"1337428486025":{"contributors":[],"silentsave":false,"ts":1337428486025,"patch":[[{"diffs":[[0,"allback)"],[1,";"],[0,"\r\n}"]],"start1":2128,"start2":2128,"length1":11,"length2":12}]],"length":2140,"saved":false},"1337428502014":{"contributors":[],"silentsave":false,"ts":1337428502014,"patch":[[{"diffs":[[0,"ink("],[-1,"db, name, callback"],[1,"mongoose.connection.db, fileName, function() {\r\n  \r\n  }"],[0,");\r\n"]],"start1":2113,"start2":2113,"length1":26,"length2":63}]],"length":2177,"saved":false},"1337428571777":{"contributors":[],"silentsave":false,"ts":1337428571777,"patch":[[{"diffs":[[0,"e, callback) {\r\n"],[1,"  GridStore.exist(db, filename, callback)\r\n"],[0,"  new GridStore("]],"start1":1438,"start2":1438,"length1":32,"length2":75},{"diffs":[[0,"\r\n  "],[-1,"mongodb."],[0,"Grid"]],"start1":2131,"start2":2131,"length1":16,"length2":8}]],"length":2212,"saved":false},"1337428587698":{"contributors":[],"silentsave":false,"ts":1337428587698,"patch":[[{"diffs":[[0,"e.exist("],[1,"mongoose.connection."],[0,"db, file"]],"start1":1464,"start2":1464,"length1":16,"length2":36}]],"length":2232,"saved":false},"1337428610725":{"contributors":[],"silentsave":false,"ts":1337428610725,"patch":[[{"diffs":[[0,"file"],[-1,"n"],[1,"N"],[0,"ame, "],[-1,"callback"],[1,"function(result) {\r\n    \r\n  }"],[0,")\r\n "]],"start1":1496,"start2":1496,"length1":22,"length2":43}]],"length":2253,"saved":false},"1337428616061":{"contributors":[],"silentsave":false,"ts":1337428616061,"patch":[[{"diffs":[[0,"\r\n  "],[-1,"})\r\n"],[0,"  ne"]],"start1":1530,"start2":1530,"length1":12,"length2":8},{"diffs":[[0,"err, gs) {\r\n    "],[1,"  "],[0,"gs.write(buffer,"]],"start1":1603,"start2":1603,"length1":32,"length2":34},{"diffs":[[0,"r, gs) {\r\n      "],[1,"  "],[0,"gs.close(functio"]],"start1":1649,"start2":1649,"length1":32,"length2":34},{"diffs":[[0,"err, result) {\r\n"],[1,"  "],[0,"        if (call"]],"start1":1685,"start2":1685,"length1":32,"length2":34},{"diffs":[[0,"k) {\r\n          "],[1,"  "],[0,"callback(result)"]],"start1":1722,"start2":1722,"length1":32,"length2":34},{"diffs":[[0,"sult);\r\n        "],[1,"  "],[0,"}\r\n"],[1,"        });\r\n"],[0,"      });\r\n    }"]],"start1":1751,"start2":1751,"length1":35,"length2":50},{"diffs":[[0,"  });\r\n    });\r\n"],[1,""],[0,"  })"],[-1,";"],[0,"\r\n};\r\n\r\nexports."]],"start1":1789,"start2":1789,"length1":37,"length2":36}]],"length":2271,"saved":false},"1337428625009":{"contributors":[],"silentsave":false,"ts":1337428625009,"patch":[[{"diffs":[[0," {\r\n    "],[1,"if (result) {\r\n      \r\n    }"],[0,"\r\n    ne"]],"start1":1522,"start2":1522,"length1":16,"length2":44}]],"length":2299,"saved":false},"1337428626239":{"contributors":[],"silentsave":false,"ts":1337428626239,"patch":[[{"diffs":[[0,"\r\n      "],[1,"  "],[0,"\r\n    }\r"]],"start1":1543,"start2":1543,"length1":16,"length2":18}]],"length":2301,"saved":false},"1337428639591":{"contributors":[],"silentsave":false,"ts":1337428639591,"patch":[[{"diffs":[[0,"\r\n      "],[1,"fileName = fileNa"],[0,"  \r\n    "]],"start1":1543,"start2":1543,"length1":16,"length2":33},{"diffs":[[0," callback(result"],[1,", fileName"],[0,");\r\n          }\r"]],"start1":1786,"start2":1786,"length1":32,"length2":42}]],"length":2328,"saved":false},"1337428664978":{"contributors":[],"silentsave":false,"ts":1337428664978,"patch":[[{"diffs":[[0,"rts."],[-1,"delete"],[1,"read"],[0,"Grid"]],"start1":1878,"start2":1878,"length1":14,"length2":12}]],"length":2326,"saved":false},"1337428691126":{"contributors":[],"silentsave":false,"ts":1337428691126,"patch":[[{"diffs":[[0,"\r\n};\r\n\r\nexports."],[-1,"read"],[1,"delete"],[0,"GridStore = func"]],"start1":2183,"start2":2183,"length1":36,"length2":38}]],"length":2328,"saved":false},"1337428747699":{"contributors":[],"silentsave":false,"ts":1337428747699,"patch":[[{"diffs":[[0,"= fileNa"],[-1,"  "],[1,"me + '"],[0,"\r\n    }\r"]],"start1":1560,"start2":1560,"length1":18,"length2":22},{"diffs":[[0,");\r\n  })\r\n};\r\n\r\n"],[1,"exports.checkGridStore\r\n\r\n"],[0,"exports.readGrid"]],"start1":1862,"start2":1862,"length1":32,"length2":58}]],"length":2358,"saved":false},"1337428755679":{"contributors":[],"silentsave":false,"ts":1337428755679,"patch":[[{"diffs":[[0,"ridStore"],[1," = function(fileName, callback) {\r\n  \r\n}"],[0,"\r\n\r\nexpo"]],"start1":1892,"start2":1892,"length1":16,"length2":56}]],"length":2398,"saved":false},"1337428765194":{"contributors":[],"silentsave":false,"ts":1337428765194,"patch":[[{"diffs":[[0," {\r\n"],[-1,"  GridStore.exist(mongoose.connection.db, fileName, function(result) {\r\n"],[0,"    "]],"start1":1450,"start2":1450,"length1":80,"length2":8},{"diffs":[[0,"k) {\r\n  "],[1,"GridStore.exist(mongoose.connection.db, fileName, function(result) {"],[0,"\r\n}\r\n\r\ne"]],"start1":1857,"start2":1857,"length1":16,"length2":84}]],"length":2394,"saved":false},"1337428773871":{"contributors":[],"silentsave":false,"ts":1337428773871,"patch":[[{"diffs":[[0,"ult) {\r\n"],[1,"    callback(result);\r\n  }\r\n"],[0,"}\r\n\r\nexp"]],"start1":1927,"start2":1927,"length1":16,"length2":44}]],"length":2422,"saved":false},"1337428791766":{"contributors":[],"silentsave":false,"ts":1337428791766,"patch":[[{"diffs":[[0,"(result) {\r\n"],[1,"    if (callback) {\r\n  "],[0,"    callback"]],"start1":1923,"start2":1923,"length1":24,"length2":47},{"diffs":[[0,"sult);\r\n"],[1,"    }\r\n"],[0,"  }\r\n}\r\n"]],"start1":1973,"start2":1973,"length1":16,"length2":23}]],"length":2452,"saved":false},"1337428836716":{"contributors":[],"silentsave":false,"ts":1337428836716,"patch":[[{"diffs":[[0,"  }\r\n  }"],[1,");"],[0,"\r\n}\r\n\r\ne"]],"start1":1983,"start2":1983,"length1":16,"length2":18}]],"length":2454,"saved":false},"1337428860761":{"contributors":[],"silentsave":false,"ts":1337428860761,"patch":[[{"diffs":[[0,"allback) {\r\n"],[1,"  checkGridStore(fileName, function() {\r\n"],[0,"    if (resu"]],"start1":1442,"start2":1442,"length1":24,"length2":65}]],"length":2495,"saved":false},"1337428862312":{"contributors":[],"silentsave":false,"ts":1337428862312,"patch":[[{"diffs":[[0,"leName, function"],[1," "],[0,"() {\r\n    if (re"]],"start1":1473,"start2":1473,"length1":32,"length2":33}]],"length":2496,"saved":false},"1337428865743":{"contributors":[],"silentsave":false,"ts":1337428865743,"patch":[[{"diffs":[[0,"function"],[-1," "],[0,"() {\r\n  "]],"start1":1481,"start2":1481,"length1":17,"length2":16}]],"length":2495,"saved":false},"1337428868876":{"contributors":[],"silentsave":false,"ts":1337428868876,"patch":[[{"diffs":[[0,"e, function("],[1,"result"],[0,") {\r\n    if "]],"start1":1478,"start2":1478,"length1":24,"length2":30}]],"length":2501,"saved":false},"1337428888856":{"contributors":[],"silentsave":false,"ts":1337428888856,"patch":[[{"diffs":[[0,");\r\n  })"],[1,";"],[0,"\r\n};\r\n\r\n"]],"start1":1837,"start2":1837,"length1":16,"length2":17}]],"length":2502,"saved":false},"1337429016186":{"contributors":[],"silentsave":false,"ts":1337429016186,"patch":[[{"diffs":[[0,"vailable"],[-1,"-"],[0,"Boards',"]],"start1":1041,"start2":1041,"length1":17,"length2":16}]],"length":2501,"saved":false},"1337429028475":{"contributors":[],"silentsave":false,"ts":1337429028475,"patch":[[{"diffs":[[0,"l('Available"],[1,"-"],[0,"Boards', sch"]],"start1":1037,"start2":1037,"length1":24,"length2":25}]],"length":2502,"saved":false},"1337431000746":{"contributors":[],"silentsave":false,"ts":1337431000746,"patch":[[{"diffs":[[0," gs."],[-1,"write(buffer, function(err, gs) {\r\n      gs.close(function(err, result) {\r\n        if (callback) {\r\n          callback(result);\r\n        }\r\n      });"],[1,"read(function(err, data)"],[0,"\r\n  "]],"start1":2188,"start2":2188,"length1":157,"length2":32}]],"length":2377,"saved":false},"1337431004710":{"contributors":[],"silentsave":false,"ts":1337431004710,"patch":[[{"diffs":[[0,"r, data)"],[1," {\r\n      "],[0,"\r\n    })"]],"start1":2208,"start2":2208,"length1":16,"length2":26}]],"length":2387,"saved":false},"1337431016952":{"contributors":[],"silentsave":false,"ts":1337431016952,"patch":[[{"diffs":[[0,"\r\n      "],[1,"var buffer = new Buffer(data);"],[0,"\r\n    })"]],"start1":2218,"start2":2218,"length1":16,"length2":46}]],"length":2417,"saved":false},"1337431030796":{"contributors":[],"silentsave":false,"ts":1337431030796,"patch":[[{"diffs":[[0,"fer(data);\r\n"],[1,"      gs.close(function(err, result) {\r\n        \r\n      }\r\n"],[0,"    });\r\n  }"]],"start1":2246,"start2":2246,"length1":24,"length2":83}]],"length":2476,"saved":false},"1337431039541":{"contributors":[],"silentsave":false,"ts":1337431039541,"patch":[[{"diffs":[[0,"        "],[1,"if (callback) {\r\n          \r\n        }"],[0,"\r\n      "]],"start1":2298,"start2":2298,"length1":16,"length2":54}]],"length":2514,"saved":false},"1337431048940":{"contributors":[],"silentsave":false,"ts":1337431048940,"patch":[[{"diffs":[[0,"        "],[1,"callback "],[0,"\r\n      "]],"start1":2325,"start2":2325,"length1":16,"length2":25}]],"length":2523,"saved":false},"1337431702359":{"contributors":[],"silentsave":false,"ts":1337431702359,"patch":[[{"diffs":[[0,"callback"],[-1," "],[1,"("],[0,"\r\n      "]],"start1":2333,"start2":2333,"length1":17,"length2":17}]],"length":2523,"saved":false},"1337431723832":{"contributors":[],"silentsave":false,"ts":1337431723832,"patch":[[{"diffs":[[0,"allback("],[1,"result, buffer);"],[0,"\r\n      "]],"start1":2334,"start2":2334,"length1":16,"length2":32}]],"length":2539,"saved":false},"1337431759742":{"contributors":[],"silentsave":false,"ts":1337431759742,"patch":[[{"diffs":[[0,"e + '\r\n    }"],[-1,"\r\n"],[1," else {\r\n  "],[0,"    new Grid"]],"start1":1544,"start2":1544,"length1":26,"length2":35},{"diffs":[[0,"\r\n      "],[1,"  "],[0,"gs.write"]],"start1":1648,"start2":1648,"length1":16,"length2":18},{"diffs":[[0,"ion(err, gs) {\r\n"],[1,"  "],[0,"        gs.close"]],"start1":1680,"start2":1680,"length1":32,"length2":34},{"diffs":[[0,"t) {\r\n          "],[1,"  "],[0,"if (callback) {\r"]],"start1":1734,"start2":1734,"length1":32,"length2":34},{"diffs":[[0,"f (callback) {\r\n"],[1,"  "],[0,"            call"]],"start1":1753,"start2":1753,"length1":32,"length2":34},{"diffs":[[0,"\r\n          "],[1,"  "],[0,"}\r\n"],[1,"          });\r\n"],[0,"        });\r"]],"start1":1810,"start2":1810,"length1":27,"length2":44},{"diffs":[[0,"   });\r\n"],[1,""],[0,"    }"],[-1,");"],[0,"\r\n  });\r"]],"start1":1858,"start2":1858,"length1":23,"length2":21}]],"length":2571,"saved":false},"1337431768832":{"contributors":[],"silentsave":false,"ts":1337431768832,"patch":[[{"diffs":[[0,"Name + '"],[1,"_';"],[0,"\r\n    } "]],"start1":1541,"start2":1541,"length1":16,"length2":19}]],"length":2574,"saved":false},"1337431772867":{"contributors":[],"silentsave":false,"ts":1337431772867,"patch":[[{"diffs":[[0,"+ '_';\r\n"],[1,"      \r\n"],[0,"    } el"]],"start1":1546,"start2":1546,"length1":16,"length2":24}]],"length":2582,"saved":false},"1337431798854":{"contributors":[],"silentsave":false,"ts":1337431798854,"patch":[[{"diffs":[[0,"\r\n      "],[1,"saveGridStore(fileName, callback);"],[0,"\r\n    } "]],"start1":1552,"start2":1552,"length1":16,"length2":50}]],"length":2616,"saved":false},"1337431830506":{"contributors":[],"silentsave":false,"ts":1337431830506,"patch":[[{"diffs":[[0,";\r\n  });\r\n};\r\n\r\n"],[1,"exports.streamGridStore = function(fileName, callback) {\r\n  \r\n}\r\n\r\n"],[0,"exports.deleteGr"]],"start1":2463,"start2":2463,"length1":32,"length2":99}]],"length":2683,"saved":false},"1337431831765":{"contributors":[],"silentsave":false,"ts":1337431831765,"patch":[[{"diffs":[[0,"{\r\n  \r\n}"],[1,";"],[0,"\r\n\r\nexpo"]],"start1":2534,"start2":2534,"length1":16,"length2":17}]],"length":2684,"saved":false},"1337431841951":{"contributors":[],"silentsave":false,"ts":1337431841951,"patch":[[{"diffs":[[0,"k) {\r\n  "],[1,"new GridStore(mongoose.connection.db, fileName, 'w').open(function(err, gs) {\r\n    gs.read(function(err, data) {\r\n      var buffer = new Buffer(data);\r\n      gs.close(function(err, result) {\r\n        if (callback) {\r\n          callback(result, buffer);\r\n        }\r\n      }\r\n    });\r\n  });\r\n  gs.stream([autoclose=false])"],[0,"\r\n};\r\n\r\n"]],"start1":2531,"start2":2531,"length1":16,"length2":336}]],"length":3004,"saved":false},"1337431852436":{"contributors":[],"silentsave":false,"ts":1337431852436,"patch":[[{"diffs":[[0," gs."],[1,"st"],[0,"rea"],[-1,"d(function(err, data) {\r\n      var buffer = new Buffer(data);\r\n      gs.close(function(err, result) {\r\n        if (callback) {\r\n          callback(result, buffer);\r\n        }\r\n      }\r\n    });\r\n  });\r\n  gs.strea"],[0,"m([a"]],"start1":2621,"start2":2621,"length1":222,"length2":13},{"diffs":[[0,"=false])"],[1,";\r\n  });"],[0,"\r\n};\r\n\r\n"]],"start1":2642,"start2":2642,"length1":16,"length2":24}]],"length":2803,"saved":false},"1337431855617":{"contributors":[],"silentsave":false,"ts":1337431855617,"patch":[[{"diffs":[[0,"eam("],[-1,"[autoclose=false]"],[0,");\r\n"]],"start1":2628,"start2":2628,"length1":25,"length2":8}]],"length":2786,"saved":false},"1337431861167":{"contributors":[],"silentsave":false,"ts":1337431861167,"patch":[[{"diffs":[[0,".stream("],[1,"true"],[0,");\r\n  })"]],"start1":2624,"start2":2624,"length1":16,"length2":20}]],"length":2790,"saved":false},"1337431931517":{"contributors":[],"silentsave":false,"ts":1337431931517,"patch":[[{"diffs":[[0," {\r\n    "],[1,"return "],[0,"gs.strea"]],"start1":2614,"start2":2614,"length1":16,"length2":23}]],"length":2797,"saved":false},"1337431939868":{"contributors":[],"silentsave":false,"ts":1337431939868,"patch":[[{"diffs":[[0,"ion(fileName"],[-1,", callback"],[0,") {\r\n  new G"]],"start1":2510,"start2":2510,"length1":34,"length2":24}]],"length":2787,"saved":false},"1337431991082":{"contributors":[],"silentsave":false,"ts":1337431991082,"patch":[[{"diffs":[[0,"  }\r\n      }"],[1,");"],[0,"\r\n    });\r\n "]],"start1":2443,"start2":2443,"length1":24,"length2":26}]],"length":2789,"saved":false},"1337613426240":{"contributors":[],"silentsave":false,"ts":1337613426240,"patch":[[{"diffs":[[0,"ex: true"],[-1,", default: Date.now()"],[0,"}\r\n    ,"]],"start1":556,"start2":556,"length1":37,"length2":16}]],"length":2768,"saved":false},"1337613436532":{"contributors":[],"silentsave":false,"ts":1337613436532,"patch":[[{"diffs":[[0,"Date"],[-1,", default: Date.now()"],[0,"}\r\n "]],"start1":710,"start2":710,"length1":29,"length2":8}]],"length":2747,"saved":false},"1337614346781":{"contributors":[],"silentsave":false,"ts":1337614346781,"patch":[[{"diffs":[[0,"    "],[1,"   tempID : Number\r\n      ,"],[0," name   "],[-1,"  "],[0,": St"]],"start1":637,"start2":637,"length1":18,"length2":43}]],"length":2772,"saved":false},"1337614375619":{"contributors":[],"silentsave":false,"ts":1337614375619,"patch":[[{"diffs":[[0,"empID : "],[-1,"Number"],[1,"String"],[0,"\r\n      "]],"start1":645,"start2":645,"length1":22,"length2":22}]],"length":2772,"saved":false},"1337618476764":{"contributors":[],"silentsave":false,"ts":1337618476764,"patch":[[{"diffs":[[0,"b, fileName, 'w'"],[1,", {\r\n        \r\n        }"],[0,").open(function("]],"start1":1634,"start2":1634,"length1":32,"length2":56}]],"length":2796,"saved":false},"1337618479779":{"contributors":[],"silentsave":false,"ts":1337618479779,"patch":[[{"diffs":[[0,"\r\n      "],[-1,"  "],[0,"}).open("]],"start1":1663,"start2":1663,"length1":18,"length2":16}]],"length":2794,"saved":false},"1337618495141":{"contributors":[],"silentsave":false,"ts":1337618495141,"patch":[[{"diffs":[[0,"        "],[1,"\"chunk_size\": 1024*4"],[0,"\r\n      "]],"start1":1655,"start2":1655,"length1":16,"length2":36}]],"length":2814,"saved":false},"1337618499870":{"contributors":[],"silentsave":false,"ts":1337618499870,"patch":[[{"diffs":[[0,"        "],[-1,"\""],[1,"'"],[0,"chunk_si"]],"start1":1655,"start2":1655,"length1":17,"length2":17},{"diffs":[[0,"size"],[-1,"\""],[1,"'"],[0,": 10"]],"start1":1670,"start2":1670,"length1":9,"length2":9}]],"length":2814,"saved":false},"1337667460541":{"contributors":[],"silentsave":false,"ts":1337667460541,"patch":[[{"diffs":[[0,"ose\r\n  ,"],[1," "],[0,"GridStor"]],"start1":9,"start2":9,"length1":16,"length2":17},{"diffs":[[0,"ore\r\n  ,"],[1," "],[0,"Schema"],[-1,";"],[1,"\r\n  , nativeDB;\r\n  "],[0,"\r\n\r\nmong"]],"start1":24,"start2":24,"length1":23,"length2":42},{"diffs":[[0,");\r\n"],[-1,"GridStore = require('mongodb').GridStore;\r\nmongoose.connect('mongodb://"],[1,"\r\nmongoose.connect('mongodb://localhost/includetest', function(err) {\r\n});\r\n\r\n\r\nvar conn = mongoose.createConnection();\r\nconn.open('"],[0,"loca"]],"start1":91,"start2":91,"length1":79,"length2":140},{"diffs":[[0,"host"],[-1,"/"],[1,"', '"],[0,"include"],[-1,"/"],[0,"test',"],[1," 27017,"],[0," fun"]],"start1":232,"start2":232,"length1":23,"length2":32},{"diffs":[[0," 27017, function"],[-1,"(err) {"],[1," (){\r\n  nativeDB = conn.db;\r\n  GridStore = mongoose.mongo.GridStore;"],[0,"\r\n});\r\n\r\n\r\nSchem"]],"start1":253,"start2":253,"length1":39,"length2":100},{"diffs":[[0,": [S"],[-1,"chema.Types.Mixed"],[1,"tring"],[0,"]\r\n "]],"start1":732,"start2":732,"length1":25,"length2":13},{"diffs":[[0,"erModel;\r\n};\r\n\r\n"],[1,"var saveGridStore = "],[0,"exports.saveGrid"]],"start1":1504,"start2":1504,"length1":32,"length2":52},{"diffs":[[0,"nction(fileName,"],[1," buffer,"],[0," callback) {\r\n  "]],"start1":1566,"start2":1566,"length1":32,"length2":40},{"diffs":[[0,"{\r\n     "],[1," var gs ="],[0," new Gri"]],"start1":1757,"start2":1757,"length1":16,"length2":25},{"diffs":[[0,"idStore("],[-1,"mongoose.connection.db"],[1,"nativeDB"],[0,", fileNa"]],"start1":1781,"start2":1781,"length1":38,"length2":24},{"diffs":[[0," 'w'"],[-1,", {"],[1,");"],[0,"\r\n      "],[-1,"  'chunk_size': 1024*4\r\n      })"],[1,"gs"],[0,".ope"]],"start1":1808,"start2":1808,"length1":51,"length2":20},{"diffs":[[0,"}\r\n  });\r\n};\r\n\r\n"],[1,"var checkGridStore = "],[0,"exports.checkGri"]],"start1":2071,"start2":2071,"length1":32,"length2":53},{"diffs":[[0,"e.exist("],[-1,"mongoose.connection.db"],[1,"nativeDB"],[0,", fileNa"]],"start1":2175,"start2":2175,"length1":38,"length2":24},{"diffs":[[0,"lback) {\r\n  "],[-1,"new"],[1,"var gs ="],[0," GridStore(m"]],"start1":2334,"start2":2334,"length1":27,"length2":32},{"diffs":[[0,"idStore("],[-1,"mongoose.connection.db"],[1,"nativeDB"],[0,", fileNa"]],"start1":2357,"start2":2357,"length1":38,"length2":24},{"diffs":[[0,"eDB, fileName, '"],[-1,"w"],[1,"r"],[0,"')"],[1,";\r\n  gs"],[0,".open(function(e"]],"start1":2370,"start2":2370,"length1":35,"length2":42},{"diffs":[[0,"err, gs) {\r\n"],[1,"    gs.seek(0, function() {\r\n  "],[0,"    gs.read("]],"start1":2411,"start2":2411,"length1":24,"length2":55},{"diffs":[[0,"on(err, "],[-1,"data"],[1,"buffer"],[0,") {\r\n   "]],"start1":2472,"start2":2472,"length1":20,"length2":22},{"diffs":[[0,"r) {\r\n      "],[1,"  //"],[0,"var buffer ="]],"start1":2485,"start2":2485,"length1":24,"length2":28},{"diffs":[[0,"fer(data"],[1,", 'base64'"],[0,");\r\n"],[1,"  "],[0,"      gs"]],"start1":2521,"start2":2521,"length1":20,"length2":32},{"diffs":[[0,"ult) {\r\n        "],[1," "],[1," "],[0,"if (callback) {\r"]],"start1":2577,"start2":2577,"length1":32,"length2":34},{"diffs":[[0,"f (callback) {\r\n"],[1,"  "],[0,"          callba"]],"start1":2596,"start2":2596,"length1":32,"length2":34},{"diffs":[[0,");\r\n        "],[1,"  "],[0,"}\r\n"],[1,"        });\r\n"],[0,"      });\r\n "]],"start1":2647,"start2":2647,"length1":27,"length2":42},{"diffs":[[0,"    });\r\n  });\r\n"],[-1,""],[0,""],[1,""],[0,"};\r\n\r\nexports.st"]],"start1":2688,"start2":2688,"length1":32,"length2":32},{"diffs":[[0,"e) {\r\n  "],[-1,"new "],[0,"GridStor"]],"start1":2752,"start2":2752,"length1":20,"length2":16},{"diffs":[[0,"idStore("],[-1,"mongoose.connection.db"],[1,"nativeDB"],[0,", fileNa"]],"start1":2762,"start2":2762,"length1":38,"length2":24},{"diffs":[[0,"eName, '"],[-1,"w"],[1,"r"],[0,"').open("]],"start1":2783,"start2":2783,"length1":17,"length2":17},{"diffs":[[0,"\r\n  "],[-1,"GridStore.unlink(mongoose.connection.db"],[1,"//console.log(fileName);\r\n  GridStore.unlink(nativeDB"],[0,", fi"]],"start1":2919,"start2":2919,"length1":47,"length2":61},{"diffs":[[0,"() {\r\n  "],[1,"  "],[0,"\r\n  });\r"]],"start1":2996,"start2":2996,"length1":16,"length2":18}]],"length":3016,"saved":false},"1337667717010":{"contributors":[],"silentsave":false,"ts":1337667717010,"patch":[[{"diffs":[[0," buffer) {\r\n"],[1,"        console.log(buffer);\r\n"],[0,"        //va"]],"start1":2479,"start2":2479,"length1":24,"length2":54}]],"length":3046,"saved":false},"1337667744002":{"contributors":[],"silentsave":false,"ts":1337667744002,"patch":[[{"diffs":[[0," {\r\n"],[-1,"        console.log(buffer);\r\n"],[0,"    "]],"start1":2487,"start2":2487,"length1":38,"length2":8}]],"length":3016,"saved":false},"1337667750084":{"contributors":[],"silentsave":false,"ts":1337667750084,"patch":[[{"diffs":[[0,"err, gs) {\r\n"],[1,"    console.log(gs);\r\n"],[0,"    gs.seek("]],"start1":2411,"start2":2411,"length1":24,"length2":46}]],"length":3038,"saved":false},"1337667833477":{"contributors":[],"silentsave":false,"ts":1337667833477,"patch":[[{"diffs":[[0,"gs);\r\n  "],[1,"//"],[0,"  gs.see"]],"start1":2439,"start2":2439,"length1":16,"length2":18},{"diffs":[[0,"     });\r\n  "],[1,"//"],[0,"  });\r\n  });"]],"start1":2702,"start2":2702,"length1":24,"length2":26}]],"length":3042,"saved":false},"1337667866184":{"contributors":[],"silentsave":false,"ts":1337667866184,"patch":[[{"diffs":[[0,"gs);\r\n  "],[-1,"//"],[0,"  gs.see"]],"start1":2439,"start2":2439,"length1":18,"length2":16},{"diffs":[[0," });\r\n  "],[-1,"//"],[0,"  });\r\n "]],"start1":2704,"start2":2704,"length1":18,"length2":16}]],"length":3038,"saved":false},"1337668140717":{"contributors":[],"silentsave":false,"ts":1337668140717,"patch":[[{"diffs":[[0,"ame, 'w'"],[1,", {\r\n        'chunk-size': 1024 * 1024 * 16  \r\n      }"],[0,");\r\n    "]],"start1":1804,"start2":1804,"length1":16,"length2":70}]],"length":3092,"saved":false},"1337668227873":{"contributors":[],"silentsave":false,"ts":1337668227873,"patch":[[{"diffs":[[0,"  'chunk"],[-1,"-"],[1,"_"],[0,"size': 1"]],"start1":1823,"start2":1823,"length1":17,"length2":17}]],"length":3092,"saved":false},"1337668362863":{"contributors":[],"silentsave":false,"ts":1337668362863,"patch":[[{"diffs":[[0,"ize'"],[-1,": 1024"],[0," * 1"]],"start1":1833,"start2":1833,"length1":14,"length2":8}]],"length":3086,"saved":false},"1337668371090":{"contributors":[],"silentsave":false,"ts":1337668371090,"patch":[[{"diffs":[[0,"nk_size'"],[-1," *"],[1,":"],[0," 1024 * "]],"start1":1829,"start2":1829,"length1":18,"length2":17}]],"length":3085,"saved":false},"1337668450043":{"contributors":[],"silentsave":false,"ts":1337668450043,"patch":[[{"diffs":[[0,": 1024 *"],[1," 1024 *"],[0," 16  \r\n "]],"start1":1837,"start2":1837,"length1":16,"length2":23}]],"length":3092,"saved":false},"1337668599744":{"contributors":[],"silentsave":false,"ts":1337668599744,"patch":[[{"diffs":[[0," 'w'"],[-1,", {\r\n        'chunk_size': 1024 * 1024 * 16  \r\n      }"],[0,");\r\n"]],"start1":1808,"start2":1808,"length1":62,"length2":8}]],"length":3038,"saved":false},"1337706109924":{"contributors":[],"silentsave":false,"ts":1337706109924,"patch":[[{"diffs":[[0,"ame, 'w'"],[1,", {\r\n        'chunk_size': 1024 * 1024 * 8  \r\n      }"],[0,");\r\n    "]],"start1":1804,"start2":1804,"length1":16,"length2":69}]],"length":3091,"saved":false},"1337706113004":{"contributors":[],"silentsave":false,"ts":1337706113004,"patch":[[{"diffs":[[0,"024 "],[-1,"* 8 "],[0," \r\n "]],"start1":1847,"start2":1847,"length1":12,"length2":8}]],"length":3087,"saved":false},"1337706117402":{"contributors":[],"silentsave":false,"ts":1337706117402,"patch":[[{"diffs":[[0," * 1024 "],[1,"* 4 "],[0," \r\n     "]],"start1":1843,"start2":1843,"length1":16,"length2":20}]],"length":3091,"saved":false}}}