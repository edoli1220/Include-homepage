{"revisions":{"1337278706783":{"ts":1337278706783,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"\r\n/*\r\n * GET home page.\r\n */\r\n\r\nfunction isAuthenticated(req) {\r\n  var isAuthenticated;\r\n  if (req.session.user) {\r\n    isAuthenticated = true;\r\n  } else {\r\n    isAuthenticated = false;\r\n  }\r\n  return isAuthenticated;\r\n}\r\n\r\nexports.index = function(req, res) {\r\n  res.render('index', { isAuthenticated: isAuthenticated(req) })\r\n};\r\n\r\nexports.about = function(req, res) {\r\n  var includeAbout;\r\n\r\n  res.render('about', { isAuthenticated: isAuthenticated(req) })\r\n};\r\n\r\nexports.ingcam = function(req, res) {\r\n  res.render('ingcam', { isAuthenticated: isAuthenticated(req) })\r\n};\r\n\r\nexports.projects = function(req, res) {\r\n  res.render('projects', { isAuthenticated: isAuthenticated(req) })\r\n}\r\n\r\nexports.studies = function(req, res) {\r\n  res.render('studies', { isAuthenticated: isAuthenticated(req) })\r\n}"]],"start1":0,"start2":0,"length1":0,"length2":803}]],"length":803},"1337278716700":{"contributors":[],"silentsave":false,"ts":1337278716700,"patch":[[{"diffs":[[0,": isAuthenticated(req) })\r\n}"],[1,"\r\n\r\nexports.studies = function(req, res) {\r\n  res.render('studies', { isAuthenticated: isAuthenticated(req) })\r\n}"]],"start1":775,"start2":775,"length1":28,"length2":141}]],"length":916,"saved":false},"1337278723054":{"contributors":[],"silentsave":false,"ts":1337278723054,"patch":[[{"diffs":[[0,")\r\n}\r\n\r\nexports."],[-1,"stud"],[1,"activit"],[0,"ies = function(r"]],"start1":799,"start2":799,"length1":36,"length2":39}]],"length":919,"saved":false},"1337278737544":{"contributors":[],"silentsave":false,"ts":1337278737544,"patch":[[{"diffs":[[0,"\r\n  res.render('"],[-1,"stud"],[1,"activit"],[0,"ies', { isAuthen"]],"start1":848,"start2":848,"length1":36,"length2":39}]],"length":922,"saved":false},"1337339124878":{"contributors":[],"silentsave":false,"ts":1337339124878,"patch":[[{"diffs":[[0,": isAuthenticated(req) })\r\n}"],[1,"\r\n\r\nexports.quickImage = function(req, res) {\r\n  \r\n}"]],"start1":894,"start2":894,"length1":28,"length2":80}]],"length":974,"saved":false},"1337339126522":{"contributors":[],"silentsave":false,"ts":1337339126522,"patch":[[{"diffs":[[0,"s) {\r\n  "],[1,"  "],[0,"\r\n}"]],"start1":963,"start2":963,"length1":11,"length2":13}]],"length":976,"saved":false},"1337339192102":{"contributors":[],"silentsave":false,"ts":1337339192102,"patch":[[{"diffs":[[0,"s) {\r\n  "],[1,"var images;"],[0,"  \r\n}"]],"start1":963,"start2":963,"length1":13,"length2":24}]],"length":987,"saved":false},"1337339217868":{"contributors":[],"silentsave":false,"ts":1337339217868,"patch":[[{"diffs":[[0,"ges;  \r\n"],[1,"  if (Array.isArray(req.body)) {\r\n    \r\n  }\r\n"],[0,"}"]],"start1":978,"start2":978,"length1":9,"length2":54}]],"length":1032,"saved":false},"1337339219877":{"contributors":[],"silentsave":false,"ts":1337339219877,"patch":[[{"diffs":[[0,"\r\n    \r\n"],[1,"  } else {\r\n    \r\n"],[0,"  }\r\n}"]],"start1":1018,"start2":1018,"length1":14,"length2":32}]],"length":1050,"saved":false},"1337339224545":{"contributors":[],"silentsave":false,"ts":1337339224545,"patch":[[{"diffs":[[0,"r images"],[1," = []"],[0,";  \r\n  i"]],"start1":973,"start2":973,"length1":16,"length2":21}]],"length":1055,"saved":false},"1337339228477":{"contributors":[],"silentsave":false,"ts":1337339228477,"patch":[[{"diffs":[[0,"else {\r\n    "],[1,"images.push"],[0,"\r\n  }\r\n}"]],"start1":1035,"start2":1035,"length1":20,"length2":31}]],"length":1066,"saved":false},"1337339273145":{"contributors":[],"silentsave":false,"ts":1337339273145,"patch":[[{"diffs":[[0,"ges.push"],[1,"({sFileName: ,sFileURL, bNewLine: });"],[0,"\r\n  }\r\n}"]],"start1":1050,"start2":1050,"length1":16,"length2":53}]],"length":1103,"saved":false},"1337339336222":{"contributors":[],"silentsave":false,"ts":1337339336222,"patch":[[{"diffs":[[0,"= []"],[-1,";  \r\n  if (Array.isArray(req.body)) {\r\n    \r\n  } else {\r\n    images.push({sFileName: ,sFileURL, bNewLine: });"],[1,"\r\n    , i = 0;\r\n    \r\n  while (req.body['img' + i]) {\r\n    i ++;  \r\n  }"],[0,"\r\n  "],[-1,"}"],[0,"\r\n}"]],"start1":982,"start2":982,"length1":121,"length2":82}]],"length":1064,"saved":false},"1337339337175":{"contributors":[],"silentsave":false,"ts":1337339337175,"patch":[[{"diffs":[[0,"g' + i]) {\r\n"],[1,"    images.push({sFileName: req.body.,sFileURL, bNewLine: });\r\n"],[0,"    i ++;  \r"]],"start1":1029,"start2":1029,"length1":24,"length2":87}]],"length":1127,"saved":false},"1337339350291":{"contributors":[],"silentsave":false,"ts":1337339350291,"patch":[[{"diffs":[[0,"s = []\r\n"],[1,"    , image;\r\n"],[0,"    , i "]],"start1":980,"start2":980,"length1":16,"length2":30}]],"length":1141,"saved":false},"1337339356384":{"contributors":[],"silentsave":false,"ts":1337339356384,"patch":[[{"diffs":[[0,"g' + i]) {\r\n"],[1,"    image = req.body['img' + i];\r\n"],[0,"    images.p"]],"start1":1043,"start2":1043,"length1":24,"length2":58}]],"length":1175,"saved":false},"1337339368026":{"contributors":[],"silentsave":false,"ts":1337339368026,"patch":[[{"diffs":[[0,"ileName:"],[1," image.name,"],[0," req.bod"]],"start1":1108,"start2":1108,"length1":16,"length2":28}]],"length":1187,"saved":false},"1337339404613":{"contributors":[],"silentsave":false,"ts":1337339404613,"patch":[[{"diffs":[[0,"me, "],[-1,"req.body.,sFileURL"],[1,"sFileURL: image.path"],[0,", bN"]],"start1":1125,"start2":1125,"length1":26,"length2":28}]],"length":1189,"saved":false},"1337339408466":{"contributors":[],"silentsave":false,"ts":1337339408466,"patch":[[{"diffs":[[0,"ewLine: "],[1,"true"],[0,"});\r\n   "]],"start1":1153,"start2":1153,"length1":16,"length2":20}]],"length":1193,"saved":false},"1337339461417":{"contributors":[],"silentsave":false,"ts":1337339461417,"patch":[[{"diffs":[[0," }\r\n"],[-1,"  \r\n}"],[1,"}\r\n\r\nfunction renameImage(image) {\r\n  var tmpPath = image.path;\r\n    , targetPath = '\r\n}\r\nfunction renameImg(image){\r\n53\r\n    var tmp_path = image.path;\r\n54\r\n    var target_path = './public/upload/' + image.name;\r\n55\r\n    console.log('->> tmp_path: ' + tmp_path );\r\n56\r\n    console.log('->> target_path: ' + target_path );\r\n57\r\n    //TMP_PATH -> TARGET_PATH로 이동하면서 파일명을 바꿉니다.       \r\n58\r\n    fs.rename(tmp_path, target_path, function(err){\r\n59\r\n        if(err) throw err;\r\n60\r\n        /* 어떤 예제에서 아래와 같이 TMP_PATH를 다시 UNLINK해주지만 이미 RENAME으로 이동시켰기 때문에 TMP_PATH가 없다는 오류가 나게 됩니다.\r\n61\r\n        FS.UNLINK(TMP_PATH, FUNCTION() {\r\n62\r\n            IF (ERR) THROW ERR;\r\n63\r\n            RES.SEND('FILE UPLOADED TO: ' + TARGET_PATH + ' - ' + REQ.FILES.THUMBNAIL.SIZE + ' BYTES');\r\n64\r\n        });*/\r\n65\r\n        console.log('->> upload done');\r\n66\r\n    });\r\n67\r\n}\r\n"]],"start1":1184,"start2":1184,"length1":9,"length2":856}]],"length":2040,"saved":false},"1337339474539":{"contributors":[],"silentsave":false,"ts":1337339474539,"patch":[[{"diffs":[[0,"Path = '"],[1,"/quick-images';"],[0,"\r\n}\r\nfun"]],"start1":1265,"start2":1265,"length1":16,"length2":31}]],"length":2055,"saved":false},"1337339481305":{"contributors":[],"silentsave":false,"ts":1337339481305,"patch":[[{"diffs":[[0,"-images'"],[1," + image.name"],[0,";\r\n}\r\nfu"]],"start1":1279,"start2":1279,"length1":16,"length2":29}]],"length":2068,"saved":false},"1337339509835":{"contributors":[],"silentsave":false,"ts":1337339509835,"patch":[[{"diffs":[[0,"e.\r\n */\r"],[1,"\nvar fs = require('fs')\r"],[0,"\n\r\nfunct"]],"start1":21,"start2":21,"length1":16,"length2":40},{"diffs":[[0,".name;\r\n"],[1,"  \r\n  fs.re\r\n"],[0,"}\r\nfunct"]],"start1":1319,"start2":1319,"length1":16,"length2":29}]],"length":2105,"saved":false},"1337339513071":{"contributors":[],"silentsave":false,"ts":1337339513071,"patch":[[{"diffs":[[0,"re('fs')"],[1,";"],[0,"\r\n\r\nfunc"]],"start1":44,"start2":44,"length1":16,"length2":17}]],"length":2106,"saved":false},"1337339542475":{"contributors":[],"silentsave":false,"ts":1337339542475,"patch":[[{"diffs":[[0,"age.path"],[-1,";"],[0,"\r\n    , "]],"start1":1267,"start2":1267,"length1":17,"length2":16},{"diffs":[[0,"\n  fs.re"],[1,"name(tmpPath, targetPath"],[0,"\r\n}\r\nfun"]],"start1":1330,"start2":1330,"length1":16,"length2":40}]],"length":2129,"saved":false},"1337339550151":{"contributors":[],"silentsave":false,"ts":1337339550151,"patch":[[{"diffs":[[0,"rgetPath"],[1,", function(err) {\r\n    \r\n  }"],[0,"\r\n}\r\nfun"]],"start1":1354,"start2":1354,"length1":16,"length2":44}]],"length":2157,"saved":false},"1337339570056":{"contributors":[],"silentsave":false,"ts":1337339570056,"patch":[[{"diffs":[[0,"err) {\r\n    "],[1,"if (err) {\r\n      \r\n    } else {\r\n      console.log('quick-image upload success'); \r\n    }"],[0,"\r\n  }\r\n}\r\nfu"]],"start1":1373,"start2":1373,"length1":24,"length2":114}]],"length":2247,"saved":false},"1337339572801":{"contributors":[],"silentsave":false,"ts":1337339572801,"patch":[[{"diffs":[[0,"}\r\n}"],[-1,"\r\nfunction renameImg(image){\r\n53\r\n    var tmp_path = image.path;\r\n54\r\n    var target_path = './public/upload/' + image.name;\r\n55\r\n    console.log('->> tmp_path: ' + tmp_path );\r\n56\r\n    console.log('->> target_path: ' + target_path );\r\n57\r\n    //TMP_PATH -> TARGET_PATH로 이동하면서 파일명을 바꿉니다.       \r\n58\r\n    fs.rename(tmp_path, target_path, function(err){\r\n59\r\n        if(err) throw err;\r\n60\r\n        /* 어떤 예제에서 아래와 같이 TMP_PATH를 다시 UNLINK해주지만 이미 RENAME으로 이동시켰기 때문에 TMP_PATH가 없다는 오류가 나게 됩니다.\r\n61\r\n        FS.UNLINK(TMP_PATH, FUNCTION() {\r\n62\r\n            IF (ERR) THROW ERR;\r\n63\r\n            RES.SEND('FILE UPLOADED TO: ' + TARGET_PATH + ' - ' + REQ.FILES.THUMBNAIL.SIZE + ' BYTES');\r\n64\r\n        });*/\r\n65\r\n        console.log('->> upload done');\r\n66\r\n    });\r\n67\r\n}\r\n"]],"start1":1479,"start2":1479,"length1":768,"length2":4}]],"length":1483,"saved":false},"1337339586911":{"contributors":[],"silentsave":false,"ts":1337339586911,"patch":[[{"diffs":[[0," \r\n  }\r\n"],[1,"  \r\n  res.json(images);\r\n"],[0,"}\r\n\r\nfun"]],"start1":1205,"start2":1205,"length1":16,"length2":41}]],"length":1508,"saved":false},"1337339598791":{"contributors":[],"silentsave":false,"ts":1337339598791,"patch":[[{"diffs":[[0," }\r\n  \r\n"],[1,"  console.log(images);\r\n"],[0,"  res.js"]],"start1":1209,"start2":1209,"length1":16,"length2":40}]],"length":1532,"saved":false},"1337339602439":{"contributors":[],"silentsave":false,"ts":1337339602439,"patch":[[{"diffs":[[0," , image"],[-1,";"],[0,"\r\n    , "]],"start1":1016,"start2":1016,"length1":17,"length2":16}]],"length":1531,"saved":false},"1337339646799":{"contributors":[],"silentsave":false,"ts":1337339646799,"patch":[[{"diffs":[[0,"\r\n  }\r\n}"],[1,";"]],"start1":1523,"start2":1523,"length1":8,"length2":9}]],"length":1532,"saved":false},"1337339653885":{"contributors":[],"silentsave":false,"ts":1337339653885,"patch":[[{"diffs":[[0,"\r\n  }\r\n}"],[-1,";"]],"start1":1523,"start2":1523,"length1":9,"length2":8}]],"length":1531,"saved":false},"1337339671423":{"contributors":[],"silentsave":false,"ts":1337339671423,"patch":[[{"diffs":[[0,"  }\r\n  }"],[1,");"],[0,"\r\n}"]],"start1":1520,"start2":1520,"length1":11,"length2":13}]],"length":1533,"saved":false},"1337339713183":{"contributors":[],"silentsave":false,"ts":1337339713183,"patch":[[{"diffs":[[0,"eq, res) {\r\n"],[1,"  console.log(req);\r\n"],[0,"  var images"]],"start1":982,"start2":982,"length1":24,"length2":45}]],"length":1554,"saved":false},"1337339780202":{"contributors":[],"silentsave":false,"ts":1337339780202,"patch":[[{"diffs":[[0,"g' + i]) {\r\n"],[1,"    console.log(req.body);\r\n    console.log(req.body['img' + i]);\r\n"],[0,"    image = "]],"start1":1088,"start2":1088,"length1":24,"length2":91}]],"length":1621,"saved":false},"1337339811044":{"contributors":[],"silentsave":false,"ts":1337339811044,"patch":[[{"diffs":[[0," {\r\n"],[-1,"    console.log(req.body);\r\n    console.log(req.body['img' + i]);\r\n"],[0,"    "]],"start1":1096,"start2":1096,"length1":75,"length2":8}]],"length":1554,"saved":false},"1337339812104":{"contributors":[],"silentsave":false,"ts":1337339812104,"patch":[[{"diffs":[[0,"g' + i]) {\r\n"],[1,"    \r\n"],[0,"    image = "]],"start1":1088,"start2":1088,"length1":24,"length2":30}]],"length":1560,"saved":false},"1337339963960":{"contributors":[],"silentsave":false,"ts":1337339963960,"patch":[[{"diffs":[[0,": image."],[-1,"n"],[1,"fileN"],[0,"ame, sFi"]],"start1":1166,"start2":1166,"length1":17,"length2":21}]],"length":1564,"saved":false},"1337340331678":{"contributors":[],"silentsave":false,"ts":1337340331678,"patch":[[{"diffs":[[0," i]) {\r\n"],[-1,"    \r\n"],[0,"    imag"]],"start1":1092,"start2":1092,"length1":22,"length2":16},{"diffs":[[0," + i];\r\n"],[1,"    console.log(images.__proto__);\r\n"],[0,"    imag"]],"start1":1126,"start2":1126,"length1":16,"length2":52}]],"length":1594,"saved":false},"1337340336837":{"contributors":[],"silentsave":false,"ts":1337340336837,"patch":[[{"diffs":[[0,"og(image"],[-1,"s"],[0,".__proto"]],"start1":1147,"start2":1147,"length1":17,"length2":16}]],"length":1593,"saved":false},"1337340487912":{"contributors":[],"silentsave":false,"ts":1337340487912,"patch":[[{"diffs":[[0,"_proto__);\r\n"],[1,"    fs.\r\n"],[0,"    images.p"]],"start1":1157,"start2":1157,"length1":24,"length2":33}]],"length":1602,"saved":false},"1337340509150":{"contributors":[],"silentsave":false,"ts":1337340509150,"patch":[[{"diffs":[[0,"\n    fs."],[1,"writeFile('')"],[0,"\r\n    im"]],"start1":1168,"start2":1168,"length1":16,"length2":29}]],"length":1615,"saved":false},"1337340549649":{"contributors":[],"silentsave":false,"ts":1337340549649,"patch":[[{"diffs":[[0,"teFile('"],[-1,"')"],[1,"/quick-images/image', image);"],[0,"\r\n    im"]],"start1":1179,"start2":1179,"length1":18,"length2":45}]],"length":1642,"saved":false},"1337340595495":{"contributors":[],"silentsave":false,"ts":1337340595495,"patch":[[{"diffs":[[0,"];\r\n"],[-1,"    console.log(image.__proto__);\r\n"],[0,"    "]],"start1":1130,"start2":1130,"length1":43,"length2":8}]],"length":1607,"saved":false},"1337340709191":{"contributors":[],"silentsave":false,"ts":1337340709191,"patch":[[{"diffs":[[0,"', image"],[1,", function(err) {\r\n      console.log(err);\r\n    }"],[0,");\r\n    "]],"start1":1171,"start2":1171,"length1":16,"length2":65}]],"length":1656,"saved":false},"1337340739665":{"contributors":[],"silentsave":false,"ts":1337340739665,"patch":[[{"diffs":[[0,"es/image"],[1,".jpg"],[0,"', image"]],"start1":1163,"start2":1163,"length1":16,"length2":20}]],"length":1660,"saved":false},"1337340786628":{"contributors":[],"silentsave":false,"ts":1337340786628,"patch":[[{"diffs":[[0,"le('"],[-1,"/quick-images/"],[0,"imag"]],"start1":1148,"start2":1148,"length1":22,"length2":8}]],"length":1646,"saved":false},"1337340903577":{"contributors":[],"silentsave":false,"ts":1337340903577,"patch":[[{"diffs":[[0," + i];\r\n"],[1,"    console.log(image);\r\n"],[0,"    fs.w"]],"start1":1126,"start2":1126,"length1":16,"length2":41}]],"length":1671,"saved":false},"1337340974140":{"contributors":[],"silentsave":false,"ts":1337340974140,"patch":[[{"diffs":[[0,"ole.log("],[1,"JSON.stringify("],[0,"image)"],[1,")"],[0,";\r\n    f"]],"start1":1142,"start2":1142,"length1":22,"length2":38}]],"length":1687,"saved":false},"1337341085032":{"contributors":[],"silentsave":false,"ts":1337341085032,"patch":[[{"diffs":[[0,"log("],[-1,"JSON.stringify(image"],[1,"image.getAsDataURL ( "],[0,"));\r"]],"start1":1146,"start2":1146,"length1":28,"length2":29}]],"length":1688,"saved":false},"1337341086782":{"contributors":[],"silentsave":false,"ts":1337341086782,"patch":[[{"diffs":[[0,"aURL"],[-1," ( "],[1,"("],[0,"));\r"]],"start1":1164,"start2":1164,"length1":11,"length2":9}]],"length":1686,"saved":false},"1337341216423":{"contributors":[],"silentsave":false,"ts":1337341216423,"patch":[[{"diffs":[[0,"age."],[-1,"getAsDataURL"],[1,"read"],[0,"());"]],"start1":1152,"start2":1152,"length1":20,"length2":12}]],"length":1678,"saved":false},"1337341321801":{"contributors":[],"silentsave":false,"ts":1337341321801,"patch":[[{"diffs":[[0,"e.read());\r\n"],[1,"    for(prop in feature.attributes) {\r\n      alert(!\"[ARRTIBUTE]\"+typeof(prop)+\":\"+prop);\r\n    }\r\n"],[0,"    fs.write"]],"start1":1154,"start2":1154,"length1":24,"length2":122}]],"length":1776,"saved":false},"1337341330831":{"contributors":[],"silentsave":false,"ts":1337341330831,"patch":[[{"diffs":[[0,"    "],[-1,"alert"],[1,"console.log"],[0,"(!\"["]],"start1":1207,"start2":1207,"length1":13,"length2":19}]],"length":1782,"saved":false},"1337341342530":{"contributors":[],"silentsave":false,"ts":1337341342530,"patch":[[{"diffs":[[0," in "],[-1,"feature"],[1,"images"],[0,".att"]],"start1":1178,"start2":1178,"length1":15,"length2":14}]],"length":1781,"saved":false},"1337341347311":{"contributors":[],"silentsave":false,"ts":1337341347311,"patch":[[{"diffs":[[0,"];\r\n"],[-1,"    console.log(image.read());\r\n"],[0,"    "]],"start1":1130,"start2":1130,"length1":40,"length2":8},{"diffs":[[0,"in image"],[-1,"s"],[0,".attribu"]],"start1":1147,"start2":1147,"length1":17,"length2":16}]],"length":1748,"saved":false},"1337342169819":{"contributors":[],"silentsave":false,"ts":1337342169819,"patch":[[{"diffs":[[0," + i];\r\n"],[1,"    console.log(req.body.img0.fileName);\r\n"],[0,"    for("]],"start1":1126,"start2":1126,"length1":16,"length2":58}]],"length":1790,"saved":false},"1337342329020":{"contributors":[],"silentsave":false,"ts":1337342329020,"patch":[[{"diffs":[[0,"ody."],[-1,"img0.fileName"],[1,"params"],[0,");\r\n"]],"start1":1155,"start2":1155,"length1":21,"length2":14}]],"length":1783,"saved":false},"1337342332826":{"contributors":[],"silentsave":false,"ts":1337342332826,"patch":[[{"diffs":[[0,"y.params"],[1,".obejct"],[0,");\r\n    "]],"start1":1157,"start2":1157,"length1":16,"length2":23}]],"length":1790,"saved":false},"1337342549192":{"contributors":[],"silentsave":false,"ts":1337342549192,"patch":[[{"diffs":[[0,"];\r\n"],[-1,"    console.log(req.body.params.obejct);\r\n"],[0,"    "]],"start1":1130,"start2":1130,"length1":50,"length2":8}]],"length":1748,"saved":false},"1337342555183":{"contributors":[],"silentsave":false,"ts":1337342555183,"patch":[[{"diffs":[[0,"teFile('"],[1,"quick-images/"],[0,"image.jp"]],"start1":1246,"start2":1246,"length1":16,"length2":29}]],"length":1761,"saved":false},"1337342577731":{"contributors":[],"silentsave":false,"ts":1337342577731,"patch":[[{"diffs":[[0,"];\r\n"],[-1,"    for(prop in image.attributes) {\r\n      console.log(!\"[ARRTIBUTE]\"+typeof(prop)+\":\"+prop);\r\n    }\r\n"],[0,"    "]],"start1":1130,"start2":1130,"length1":110,"length2":8}]],"length":1659,"saved":false},"1337342584701":{"contributors":[],"silentsave":false,"ts":1337342584701,"patch":[[{"diffs":[[0," {\r\n"],[-1,"  console.log(req);\r\n"],[0,"  va"]],"start1":990,"start2":990,"length1":29,"length2":8}]],"length":1638,"saved":false},"1337342588857":{"contributors":[],"silentsave":false,"ts":1337342588857,"patch":[[{"diffs":[[0," {\r\n"],[-1,"      console.log(err);\r\n"],[0,"    "]],"start1":1176,"start2":1176,"length1":33,"length2":8}]],"length":1613,"saved":false},"1337404827211":{"contributors":[],"silentsave":false,"ts":1337404827211,"patch":[[{"diffs":[[0,"e('fs');\r\n\r\n"],[1,"var FileAPI = require('file-api'),\r\n  File = FileAPI.File,\r\n  FileList = FileAPI.FileList,\r\n  FileReader = FileAPI.FileReader;\r\n\r\n"],[0,"function isA"]],"start1":45,"start2":45,"length1":24,"length2":154},{"diffs":[[0,"\r\n  "],[-1,"while (req.body['img' + i]) {\r\n    image = req.body['img' + i]"],[1,"console.log(req.headers);\r\n  console.log(req.header('x-file-name'));\r\n  console.log(req.header.file_name);\r\n  while (req.body['img' + i]) {\r\n    image = req.body['img' + i];\r\n    console.log(\"image:::\\n\");\r\n    console.log(image['x-file-name']);\r\n    \r\n    var fileReader = new FileReader();\r\n    fileReader.readAsDataURL(image);\r\n    \r\n    fileReader.addEventListener('load', function (ev) {\r\n      console.log(\"DataURL ByteSize:\", ev.target.result.length);\r\n      console.log(\"Actual ByteSize:\", ev.target.nodeBufferResult.length);\r\n    })"],[0,";\r\n "]],"start1":1174,"start2":1174,"length1":70,"length2":549}]],"length":2222,"saved":false},"1337406284989":{"contributors":[],"silentsave":false,"ts":1337406284989,"patch":[[{"diffs":[[0,"var "],[-1,"images = []"],[1,"fName"],[0,"\r\n    , "],[-1,"imag"],[1,"fSiz"],[0,"e\r\n "]],"start1":1126,"start2":1126,"length1":31,"length2":25},{"diffs":[[0,"  , "],[-1,"i = 0;\r\n    \r\n  console.log(req.headers);\r\n  console.log("],[1,"fType\r\n    , fURL\r\n    , ws\r\n  \r\n  fName = "],[0,"req."]],"start1":1152,"start2":1152,"length1":65,"length2":51},{"diffs":[[0,"header('"],[-1,"x-"],[0,"file-nam"]],"start1":1203,"start2":1203,"length1":18,"length2":16},{"diffs":[[0,"me')"],[-1,")"],[0,";\r\n  "],[-1,"console.log("],[1,"fSize = "],[0,"req."]],"start1":1218,"start2":1218,"length1":26,"length2":21},{"diffs":[[0,"ader"],[-1,"."],[1,"('"],[0,"file"],[-1,"_name);\r\n  while (req.body['img' + i]) {\r\n    image = req.body['img' + i];\r\n    console.log(\"image:::\\n\");\r\n    console.log(image['x-"],[1,"-size');\r\n  fType = req.header('"],[0,"file-"],[-1,"nam"],[1,"typ"],[0,"e'"],[-1,"]"],[0,");\r\n  "],[-1,"  \r\n    var fileReader = new FileReader();\r\n "],[1,"fURL"],[0,"  "],[1,"="],[0," f"],[-1,"ileReader.readAsDataURL(image)"],[1,"Name"],[0,";\r\n  "],[1,"ws"],[0,"  "],[-1,"\r\n"],[0,"  "],[-1,"  fileReader.addEventListener('load', function (ev) {\r\n      console.log(\"DataURL ByteSize:\", ev.target.result.length);\r\n      console.log(\"Actual ByteSize:\", ev.target.nodeBufferResult.length);\r\n    });\r\n    fs.writeFile('quick-images/image.jpg', image, function(err) {\r\n    });\r\n    images.push({sFileName: image.fileName, sFileURL: image.path, bNewLine: true});\r\n    i ++;  \r\n  }"],[1,"= fs.createWriteStream(fURL);\r\n  \r\n  req.on('data', function(data) {"],[0,"\r\n  "],[-1,"\r\n"],[0,"  co"]],"start1":1241,"start2":1241,"length1":641,"length2":158},{"diffs":[[0,"log("],[-1,"images);\r\n  res.json(images);\r\n}\r\n\r\nfunction renameImage(image) {\r\n  var tmpPath = image.path\r\n    , targetPath = '/quick-images' + image.name"],[1,"data)"],[0,";\r\n  "],[-1,"\r\n"],[0,"  "],[-1,"fs.rename(tmpPath, targetPath, function(err) {\r\n    if (err) {\r\n      \r\n    } else {\r\n      console.log('quick-image upload success'); \r\n    }"],[1,"ws.write(data);"],[0,"\r\n  "]],"start1":1405,"start2":1405,"length1":301,"length2":35},{"diffs":[[0,");\r\n  });\r\n}"],[-1,""],[1,"\r\n"]],"start1":1434,"start2":1434,"length1":12,"length2":14}]],"length":1448,"saved":false},"1337406294042":{"contributors":[],"silentsave":false,"ts":1337406294042,"patch":[[{"diffs":[[0,"eStream("],[1,"'quick-images' + "],[0,"fURL);\r\n"]],"start1":1338,"start2":1338,"length1":16,"length2":33}]],"length":1465,"saved":false},"1337406399817":{"contributors":[],"silentsave":false,"ts":1337406399817,"patch":[[{"diffs":[[0,"\n  });\r\n"],[1,"  \r\n  res.json({\r\n    \r\n  });\r\n"],[0,"}\r\n"]],"start1":1454,"start2":1454,"length1":11,"length2":42}]],"length":1496,"saved":false},"1337406567071":{"contributors":[],"silentsave":false,"ts":1337406567071,"patch":[[{"diffs":[[0,"({\r\n    "],[1,"sFileName:\r\n    sFileURL :\r\n    bNewLine :"],[0,"\r\n  });\r"]],"start1":1476,"start2":1476,"length1":16,"length2":58}]],"length":1538,"saved":false},"1337406583060":{"contributors":[],"silentsave":false,"ts":1337406583060,"patch":[[{"diffs":[[0,"ileName:"],[1," fName;"],[0,"\r\n    sF"]],"start1":1486,"start2":1486,"length1":16,"length2":23},{"diffs":[[0,"ileURL :"],[1," fURL;"],[0,"\r\n    bN"]],"start1":1509,"start2":1509,"length1":16,"length2":22},{"diffs":[[0,"ewLine :"],[1," true;"],[0,"\r\n  });\r"]],"start1":1531,"start2":1531,"length1":16,"length2":22}]],"length":1557,"saved":false},"1337406603823":{"contributors":[],"silentsave":false,"ts":1337406603823,"patch":[[{"diffs":[[0,"json({\r\n    "],[1,"  "],[0,"sFileName: f"]],"start1":1472,"start2":1472,"length1":24,"length2":26},{"diffs":[[0,"e: fName"],[-1,";"],[0,"\r\n   "],[1," ,"],[0," sFileUR"]],"start1":1494,"start2":1494,"length1":22,"length2":23},{"diffs":[[0,"L : fURL"],[-1,";"],[0,"\r\n   "],[1," ,"],[0," bNewLin"]],"start1":1517,"start2":1517,"length1":22,"length2":23},{"diffs":[[0,"wLine : true"],[-1,";"],[0,"\r\n  });\r\n}\r\n"]],"start1":1536,"start2":1536,"length1":25,"length2":24}]],"length":1560,"saved":false},"1337406651945":{"contributors":[],"silentsave":false,"ts":1337406651945,"patch":[[{"diffs":[[0," fURL  ="],[1," 'quick-images/' +"],[0," fName;\r"]],"start1":1298,"start2":1298,"length1":16,"length2":34},{"diffs":[[0,"k-images"],[1,"/"],[0,"' + fURL"]],"start1":1369,"start2":1369,"length1":16,"length2":17}]],"length":1579,"saved":false},"1337406697197":{"contributors":[],"silentsave":false,"ts":1337406697197,"patch":[[{"diffs":[[0,"Stream('"],[1,"public/"],[0,"quick-im"]],"start1":1357,"start2":1357,"length1":16,"length2":23}]],"length":1586,"saved":false},"1337406713745":{"contributors":[],"silentsave":false,"ts":1337406713745,"patch":[[{"diffs":[[0,"'public/"],[-1,"quick-images/"],[0,"' + fURL"]],"start1":1364,"start2":1364,"length1":29,"length2":16}]],"length":1573,"saved":false},"1337407039273":{"contributors":[],"silentsave":false,"ts":1337407039273,"patch":[[{"diffs":[[0," {\r\n"],[-1,"    console.log(data);\r\n"],[0,"    "]],"start1":1419,"start2":1419,"length1":32,"length2":8}]],"length":1549,"saved":false},"1337407208878":{"contributors":[],"silentsave":false,"ts":1337407208878,"patch":[[{"diffs":[[0,"URL  = '"],[1,"/"],[0,"quick-im"]],"start1":1300,"start2":1300,"length1":16,"length2":17},{"diffs":[[0,"('public"],[-1,"/"],[0,"' + fURL"]],"start1":1364,"start2":1364,"length1":17,"length2":16}]],"length":1549,"saved":false}}}